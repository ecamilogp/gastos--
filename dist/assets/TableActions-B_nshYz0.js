import{d as $,a as C,r as p,w as M,c,b as e,t as f,e as y,v as h,f as G,o as u,g as _,h as E,u as b,i as k,F as w,j as N,k as V}from"./index-Bqxj71Bb.js";const j=$("gastos",{state:()=>({gastos:[]}),actions:{saveGastos(){const t=JSON.stringify(this.gastos);localStorage.setItem("gasto",t)},recoverGastos(){const t=localStorage.getItem("gasto");this.gastos=t?JSON.parse(t):[]},addGasto(t){t?(t.id=Math.floor(Math.random()*300),this.gastos.push(t),this.saveGastos()):console.log("el gasto recibido es undefained")},updateGasto(t){const s=this.gastos.findIndex(o=>o.id===t.id);s!==-1&&(this.gastos.splice(s,1,t),this.saveGastos())},deleteGasto(t){this.gastos=this.gastos.filter(s=>s.id!==t),this.saveGastos()},readGasto(t){return this.gastos.find(s=>s.id===t)}}}),A={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300 ease-in-out"},B={class:"bg-white rounded-lg shadow-lg w-full max-w-lg transform transition-transform duration-300 ease-in-out p-6 relative"},T={class:"text-2xl font-semibold text-center mb-6"},I={class:"space-y-6"},L={class:"mt-6 flex justify-end space-x-3"},F=C({__name:"Form",props:{updateGasto:{}},emits:["confirm","cancel"],setup(t,{emit:s}){const o=t,d=s,l=p({name:"",money:0,id:0,...o.updateGasto}),g=p(!0),m=()=>{g.value=!1,d("cancel")},x=()=>{d("confirm",{...l.value}),g.value=!1};return M(()=>{o.updateGasto&&(l.value={...o.updateGasto})}),(v,r)=>g.value?(u(),c("div",A,[e("div",B,[e("button",{onClick:m,class:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 rounded-full"}," ✕ "),e("h2",T,f(o.updateGasto?"Editar Gasto":"Agregar Gasto"),1),e("form",I,[e("div",null,[r[2]||(r[2]=e("label",{for:"name",class:"block text-gray-700 font-medium mb-1"}," Nombre del gasto ",-1)),y(e("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=a=>l.value.name=a),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Escribe el nombre del gasto",required:""},null,512),[[h,l.value.name]])]),e("div",null,[r[3]||(r[3]=e("label",{for:"money",class:"block text-gray-700 font-medium mb-1"}," Monto del gasto ",-1)),y(e("input",{id:"money","onUpdate:modelValue":r[1]||(r[1]=a=>l.value.money=a),type:"number",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Escribe el monto del gasto",required:""},null,512),[[h,l.value.money,void 0,{number:!0}]])])]),e("div",L,[e("button",{onClick:m,class:"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-gray-500"}," Cancelar "),e("button",{onClick:x,class:"py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},f(o.updateGasto?"Guardar Cambios":"Agregar"),1)])])])):G("",!0)}}),U={class:"container mx-auto p-8"},q={class:"flex justify-center mb-10"},D={class:"flex justify-center mb-6"},J={key:0,class:"text-right mb-4 text-xl font-semibold"},O={key:1,class:"overflow-x-auto"},z={class:"min-w-full bg-white rounded-lg shadow-lg"},R={class:"px-6 py-4 text-center text-gray-700 font-semibold"},H={class:"px-6 py-4 text-center text-gray-700 font-semibold"},K={class:"px-6 py-4 text-center"},P=["onClick"],Q=["onClick"],W={key:2,class:"text-center text-gray-500"},Y=C({__name:"TableActions",setup(t){const s=p(!1),o=j(),d=p(void 0),l=p(0),g=a=>{s.value=!0,d.value=a??void 0},m=()=>{s.value=!1,d.value=void 0},x=a=>{d.value?o.updateGasto(a):o.addGasto(a),m()},v=_(()=>o.gastos.reduce((a,n)=>a+n.money,0)),r=_(()=>l.value-v.value);return E(()=>{o.recoverGastos()}),(a,n)=>(u(),c(w,null,[e("div",U,[n[4]||(n[4]=e("h1",{class:"text-4xl font-extrabold text-center mb-10 text-gray-800"}," Control de Gastos ",-1)),e("div",q,[e("button",{class:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:n[0]||(n[0]=i=>g())}," ¡Agregar Gasto! ")]),e("div",D,[y(e("input",{"onUpdate:modelValue":n[1]||(n[1]=i=>l.value=i),type:"number",class:"p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ingrese su salario"},null,512),[[h,l.value,void 0,{number:!0}]])]),b(o).gastos.length?(u(),c("div",J,[k(" Total Gastos: "+f(v.value.toLocaleString())+" € ",1),n[2]||(n[2]=e("br",null,null,-1)),k(" Salario Restante: "+f(r.value.toLocaleString())+" € ",1)])):G("",!0),b(o).gastos.length?(u(),c("div",O,[e("table",z,[n[3]||(n[3]=e("thead",{class:"bg-gradient-to-r from-green-500 to-green-700 text-white"},[e("tr",null,[e("th",{class:"px-6 py-4 text-center text-lg font-semibold tracking-wide"}," Gasto "),e("th",{class:"px-6 py-4 text-center text-lg font-semibold tracking-wide"}," Total "),e("th",{class:"px-6 py-4 text-center text-lg font-semibold tracking-wide"}," Acciones ")])],-1)),e("tbody",null,[(u(!0),c(w,null,N(b(o).gastos,i=>(u(),c("tr",{key:i.id,class:"transition duration-300 ease-in-out hover:bg-gray-100"},[e("td",R,f(i.name),1),e("td",H,f(i.money.toLocaleString()),1),e("td",K,[e("button",{class:"text-blue-500 hover:text-blue-700",onClick:S=>g(i)}," Editar ",8,P),e("button",{class:"text-red-500 hover:text-red-700 ml-4",onClick:S=>b(o).deleteGasto(i.id)}," Eliminar ",8,Q)])]))),128))])])])):(u(),c("div",W," No hay gastos registrados. "))]),s.value?(u(),V(F,{key:0,"update-gasto":d.value,onConfirm:x,onCancel:m},null,8,["update-gasto"])):G("",!0)],64))}});export{Y as default};
